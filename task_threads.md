# Потоки

Создайте 2 класса Client.java & Server.java. Соответственно, это будет клиент и сервер.
Можно создавать любое количество вспомогательных классов

```java
class Client {
    public Client(@NotNull String host, int port) {...}
}


class Server {
    public Server(int port) {...}
}
```

Дальше пошаговое выполнение задания. В каждом пункет используется предыдущий. Нужно выполнить все 5 пунктов.
Всего баллов - 15

Решение должно корректно работать в многопоточной среде. Если используете стандартные коллекции, то доступ к ним должен быть синхронизирован.



1. (3) Эхо-сервер 

    Клиент подключается к серверу на заданный хост/порт и начинает ожидать ввода с консоли. Введенную строку отправляет 
    на сервер, сервер в ответ отправляет строку назад (Эхо-сервер).
    Ввод текста "exit" прерывает сессию. Клиент должен завершить соединение. Ошибки нужно обработать.

2. (3) Многопоточный сервер:

    * на каждое подключение создается новый поток (new Thread()) 
    * каждому клиенту на сервере присваивается уникальный ID (инкрементальный счетчик подключений)
    * Для каждого клиентского потока нужно задать имя (Thread.setName(name)) в формате "Client[ID]@[address]:[port]", например "Client[3]@127.0.0.1:49000"
    
3. (3) Broadcast сервер

    Теперь вместо эхо-сервера, нужно сделать broadcast-сервер - то есть 
    * рассылать сообщение от одного клиента всем (кроме отправителя).
    * Клиент должен стать неблокирующимся, то есть при отправке в сеть не ждать ответа, а продолжать интерактив с пользователем.
    (Потребуется на клиенте завести 2 потока, один читает консоль, другой слушает ответы от сервера).
    * Изначальное сообщение от клиента на сервере нужно дополнить префиксом "Client@[address]:[port]>", например
    "Client@127.0.0.1:49000>Hello!". ID потока на сервере на клиент не пробрасывается!

4. (3) Сериализация

    Вместо текстового сообщения нужно использовать класс Message и сериализовать/десериализовать его при передаче по сети.
    Про java-serialization было на L5_reflection test/ru.track.SerializerTest.java

    ```java
    class Message {
        private long ts;
        private String data;
        
        public Message(long ts, String data) {...} 
    }
    ```
    
    Бонусом можно реализовать сериализация в формате json
 
5. (3) Админка

    На сервере надо поднять админскую консоль, и реализовать команды:
    * list: получить список онлайн-клиентов в формате "Client[ID]@[address]:[port]"
    * drop ID: отключить клиента с заданным ID, клиент должен корректно обработать отключение

 



